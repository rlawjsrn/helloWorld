<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/json.html</title>
    <style>

    </style>
</head>
<!-- 데이터를 주고받을 때에는 json을 쓰면 유용함 -->

<body>
    <script>
        let jsonData = `{
            "employees":[
  {
      "firstName":"John", 
      "lastName":"Doe"
    },
  {
      "firstName":"Anna",
      "lastName":"Smith"
    },
  {
      "firstName":"Peter", 
      "lastName":"Jones"
    }
]}`;

        function clickFnc(e) {
            let btn = e.target; //button 
            console.log(btn.parentNode.remove()); //button태그의 부모태그인 li 삭제
        }

        function mOver(e) {
            e.target.style.backgroundColor = 'yellow'; //event가 걸려있는 리스트 스타일
        }

        function mOut(e) {
            e.target.style.backgroundColor = ""; //마우스에 안 걸릴때 원래대로 돌아감.
        }

        let obj = JSON.parse(jsonData); //json => object
        const employees = obj.employees;
        
        document.write('<ul>');

        employees.forEach(function (obj, idx, ary) {
            document.write('<li onmouseout="mOut(event)">' + obj.firstName + '-' + obj.lastName +
                '<button onclick="clickFnc(event)">삭제</button>' + '</li>');
        });

        document.write('</ul>');


        //console.log(obj);

        // console.log(obj.employees[0].firstName + ',' + obj.employees[0].lastName);
        // console.log(obj.employees[1].firstName + ',' + obj.employees[1].lastName);
        // console.log(obj.employees[2].firstName + ',' + obj.employees[2].lastName);
    </script>
</body>

</html>